<h1>Edit Task</h1>
<form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
        <label for="titleInput">Title</label>
        <input 
            required autofocus
            minlength="3"
            type="text" class="form-control"
            id="titleInput" formControlName="title" 
            [(ngModel)]="this.selectedTask.title"
        >
    </div>
    <div class="form-group">
        <label for="descriptionInput">Description</label>
        <input 
            required
            minlength="3"
            type="text" class="form-control"
            id="descriptionInput" formControlName="description" 
            [(ngModel)]="this.selectedTask.description"
        >
    </div>
    <div class="form-group">
        <label for="deadlineInput">Deadline</label>
        <input 
            type="date" id="deadlineInput" formControlName="deadline"
            min="2022-08-01" max="2052-12-31"
            [(ngModel)]="this.selectedTask.deadline"
        >
    </div>
    <div class="form-group">
        <label for="statusInput">Status</label>
        <select 
          required
          class="form-control"
          id="statusInput" formControlName="status"          
          [(ngModel)]="this.selectedTask.status"
        >
          <option value="waiting">Waiting</option>
          <option value="open">Open</option>
          <option value="in-progress">In progress</option>
          <option value="finished">Finished</option>
        </select>
    </div>
    <button *ngIf="taskForm.valid" class="btn btn-lg btn-primary btn-block" type="submit">Edit Task</button>        
</form>
<div *ngIf="this.assignedUsers.length > 0">
    <h4>Assigned to:</h4>
    <ul>
        <li *ngFor="let user of this.assignedUsers">
            {{user.name}}
            <span (click)="removeAssignment(user._id)">
                <i class="material-icons">delete</i>
            </span>
        </li>  
    </ul>      
</div>
<form *ngIf="this.allUsers.length > 0" [formGroup]="assignmentForm" (ngSubmit)="onAssignment()">
    <div class="form-group">
        <label for="assignInput">Assign To:</label>
        <select 
          required
          class="form-control"
          id="assignInput" formControlName="user_id" 
        >
            <option *ngFor="let user of this.allUsers" value="{{user._id}}">{{user.name}}</option>
        </select>
    </div>
    <button *ngIf="assignmentForm.valid">Assign</button>
</form>
